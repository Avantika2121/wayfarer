<div class="whole-page">
  <div class="sidebar">
      <div *ngFor="let city of cities; index as i">
          <!-- <p>{{cities[i].name}}</p><br> -->
         <a  type = "button" class="sidebar-link"  routerLink="/cities/{{city.id}}">{{city.name}}
         </a><br>

        </div>
      </div>


    <div class="city-detail">
            <span class="city-header" >
                <span class="city-name" >{{city.name | uppercase}}</span>
                <img src={{city.photo}} >
            </span>

            <div class="posts-container">
                <div class="posts" *ngFor="let post of city.posts; index as i">
                    <p class="post-title">{{city.posts[i].title}}</p>
                    <p class="post-date">{{city.posts[i].date}}</p>


                    <button class="posts-btn" (click)="toggleShow()" type="checkbox" >Show More</button>
                    <div *ngIf="isShown" class="post-info"  id="divshow" >
                        <p class="post-author">{{city.posts[i].author}}</p>
                        <p class="post-text">{{city.posts[i].text}}</p>
                    </div>
                </div>
            </div>

    </div>

    <div class="weather-container">
        <p>here's some weather</p>
    </div>

    <div class="user-post">
        <p>Do you want to make a post?</p>
        <form [formGroup]="userPost">
            <label for="username">Enter your username:
                <input type="text" id="author" name="author" [(ngModel)]="author" placeholder="User Name"><br>
            </label>

            <label for="date">Enter today's date:
                <input type="text" id="date" name="date" [(ngModel)]="date" placeholder="Date"><br>
            </label>
            
            <label for="postitle">Enter a title for your post: 
                <input type="text" id="posttitle" name="posttitle" 
                    [(ngModel)]="posttitle" maxlength="200" minlength="1" 
                    formControlName="posttitle" placeholder="Title"><br>
                    <div *ngIf="userPost.get('postTitle')?.hasError('maxlength')">Title must be less than 200 characters.</div>
                    <div *ngIf="userPost.get('postTitle')?.hasError('minlength')">Title must be longer than 1 character.</div>
            </label>
            
            <label for="text">What do you have to share?
                <textarea type="text" id="date" name="posttext" formControlName="posttitle" [(ngModel)]="posttext" placeholder="Post Content"></textarea><br>
                <div *ngIf="userPost.get('postText')?.hasError('required')">Post content is required.</div>
            </label>


            <button class="btn btn-outline-success my-2 my-sm-0" type="submit" (click)="postSubmit()"><span class="glyphicon glyphicon-submit">Submit</span></button>
        </form>
        

        <p>{{author}}</p>
        <p>{{date}}</p>
        <p>{{posttitle}}</p>
        <p>{{posttext}}</p>

    </div>
</div>

